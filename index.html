<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>Tic Tac Toe</header>
    <div class="main">
        <div class="grid-container">
            <div class="grid-item" data-box="0"></div>
            <div class="grid-item" data-box="1"></div>
            <div class="grid-item" data-box="2"></div>
            <div class="grid-item" data-box="3"></div>
            <div class="grid-item" data-box="4"></div>
            <div class="grid-item" data-box="5"></div>
            <div class="grid-item" data-box="6"></div>
            <div class="grid-item" data-box="7"></div>
            <div class="grid-item" data-box="8"></div>
        </div>
    </div>
</body>
<script>
    const gameState = (() => {
        const gameBoard = (() => {
            const X = 'X';
            const O = 'O';
            const boardState = new Array('', '', '', '', '', '', '', '', '');
            const gridItems = document.querySelectorAll('.grid-item');

            function clearBoardState() {
                for (let i = 0; i < boardState.length; i++) {
                    boardState[i] = '';
                }
            };

            const clearBoard = () => {
                clearBoardState()
                printGameBoard()
            }
                
            function addSymbol(boxNum, symbol) {
                boardState[boxNum] = symbol;
            };

            function printGameBoard() {
                for (i = 0; i < gridItems.length; i++) {
                    gridItems[i].innerHTML = boardState[i];
                }
            };

            gridItems.forEach(gridItem => {
            gridItem.addEventListener ('click', function(e) {
                if (boardState[e.target.dataset.box] === '') {
                    gameBoard.addSymbol(e.target.dataset.box, 'X');
                    gameBoard.printGameBoard();
                } else {console.log('Spot Taken!')}});
            });

            return {
                printGameBoard,
                addSymbol,
                clearBoard
            };
        })();
    })();

    const Player = (playerName, playerSymbol) => {
        const getName = () => playerName
        const getSymbol = () => playerSymbol

        return {
            getName,
            getSymbol
        };
    };
</script>
</html>